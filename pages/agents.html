<!DOCTYPE html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/agents" data-has-hydrated="true" data-theme="light" data-announcement-bar-initially-dismissed="true" data-rh="lang,dir,class,data-has-hydrated"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title>Build an Agent | 🦜️🔗 LangChain</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://python.langchain.com/img/brand/theme-image.png"><meta data-rh="true" name="twitter:image" content="https://python.langchain.com/img/brand/theme-image.png"><meta data-rh="true" property="og:url" content="https://python.langchain.com/docs/tutorials/agents/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><link data-rh="true" rel="icon" href="https://python.langchain.com/img/brand/favicon.png"><link data-rh="true" rel="canonical" href="https://python.langchain.com/docs/tutorials/agents/"><link data-rh="true" rel="alternate" href="https://python.langchain.com/docs/tutorials/agents/" hreflang="en"><link data-rh="true" rel="alternate" href="https://python.langchain.com/docs/tutorials/agents/" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="🦜️🔗 LangChain" href="https://python.langchain.com/opensearch.xml">


<script src="agents_files/google_analytics.js"></script>
<script src="agents_files/js" async=""></script><link rel="stylesheet" href="agents_files/styles.12df7c44.css">
<script src="agents_files/runtime~main.d078d8d5.js" defer="defer"></script>
<script src="agents_files/main.24cc2201.js" defer="defer"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" data-rh="true"><link rel="preconnect" href="https://vau016laws-dsn.algolia.net/" crossorigin="anonymous" data-rh="true"><meta name="docusaurus_version" content="current" data-rh="true"><meta name="docusaurus_tag" content="docs-default-current" data-rh="true"><meta name="docsearch:version" content="current" data-rh="true"><meta name="docsearch:docusaurus_tag" content="docs-default-current" data-rh="true"><meta property="og:title" content="Build an Agent | 🦜️🔗 LangChain" data-rh="true"><meta name="description" content="By themselves, language models can't take actions - they just output text." data-rh="true"><meta property="og:description" content="By themselves, language models can't take actions - they just output text." data-rh="true"><meta name="keywords" content="agent,agents" data-rh="true"><link rel="prefetch" href="https://python.langchain.com/assets/js/c4f5d8e4.838b150d.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7456010.d921c339.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/b2ae90e8.671fdca0.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/2dd787d7.1d72d07d.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/3278dee7.7f59f22b.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/ce4a47d7.248ea352.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/972d9d57.869e0f32.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a65f7afd.969f83c9.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/b0affd4d.2349fcbf.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/98ba773b.e9608998.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/f4bfcc9a.0f27dcd7.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5f76d759.a178b0a2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/22ceff83.69facacd.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/2347c4c8.53ca226b.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/e323e2ce.96f53478.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/17896441.8bf7ee67.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/db32d859.4103c73c.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/5e95c892.c9d795c2.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/aba21aa0.5d49a645.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a7bd4aaa.15948a90.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/11b43341.3b55fe3e.js"><link rel="prefetch" href="https://python.langchain.com/assets/js/a94703ab.b19baf29.js"></head>
<body class="navigation-with-keyboard" data-rh="class" style="overflow: visible;">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="https://python.langchain.com/"><div class="navbar__logo"><img src="agents_files/wordmark.png" alt="🦜️🔗 LangChain" class="themedComponent_mlkZ themedComponent--light_NVdE"></div></a><a class="navbar__item navbar__link" href="https://python.langchain.com/docs/integrations/providers/">Integrations</a><a href="https://python.langchain.com/api_reference/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="https://python.langchain.com/docs/contributing/">Contributing</a></li><li><a class="dropdown__link" href="https://python.langchain.com/docs/people/">People</a></li><li><a class="dropdown__link" href="https://python.langchain.com/docs/troubleshooting/errors/">Error reference</a></li><li><hr class="dropdown-separator" style="margin-top: 0.5rem; margin-bottom: 0.5rem"></li><li><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LangSmith<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LangGraph<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://smith.langchain.com/hub" target="_blank" rel="noopener noreferrer" class="dropdown__link">LangChain Hub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://js.langchain.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LangChain JS/TS<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">v0.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="https://python.langchain.com/docs/introduction/">v0.3</a></li><li><a href="https://python.langchain.com/v0.2/docs/introduction" target="_blank" rel="noopener noreferrer" class="dropdown__link">v0.2<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://python.langchain.com/v0.1/docs/get_started/introduction" target="_blank" rel="noopener noreferrer" class="dropdown__link">v0.1<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://chat.langchain.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">💬</a><a href="https://github.com/langchain-ai/langchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP" type="button" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="https://python.langchain.com/docs/introduction/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="https://python.langchain.com/docs/tutorials/">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/graph/">Build a Question Answering application over a Graph Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/llm_chain/">Build a simple LLM application with chat models and prompt templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/chatbot/">Build a Chatbot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/qa_chat_history/">Build a Retrieval Augmented Generation (RAG) App: Part 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/extraction/">Build an Extraction Chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="https://python.langchain.com/docs/tutorials/agents/">Build an Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/classification/">Tagging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/rag/">Build a Retrieval Augmented Generation (RAG) App: Part 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/retrievers/">Build a semantic search engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/sql_qa/">Build a Question/Answering system over SQL data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/tutorials/summarization/">Summarize Text</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="https://python.langchain.com/docs/how_to/">How-to guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/">How-to guides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_chain/">How to use tools in a chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/vectorstore_retriever/">How to use a vectorstore as a retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chatbots_memory/">How to add memory to chatbots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/example_selectors/">How to use example selectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/graph_semantic/">How to add a semantic layer over graph database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/parallel/">How to invoke runnables in parallel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chat_streaming/">How to stream chat model responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/binding/">How to add default invocation args to a Runnable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chatbots_retrieval/">How to add retrieval to chatbots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/few_shot_examples_chat/">How to use few shot examples in chat models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/function_calling/">How to do tool/function calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/installation/">How to install LangChain packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/query_few_shot/">How to add examples to the prompt for query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/few_shot_examples/">How to use few shot examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/functions/">How to run custom functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_structured/">How to use output parsers to parse an LLM response into structured format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/query_no_queries/">How to handle cases where no queries are generated</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/routing/">How to route between sub-chains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/structured_output/">How to return structured data from a model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/summarize_map_reduce/">How to summarize text through parallelization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/summarize_refine/">How to summarize text through iterative refinement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/summarize_stuff/">How to summarize text in a single LLM call</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/toolkits/">How to use toolkits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_prompting/">How to add ad-hoc tool calling capability to LLMs and Chat Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/agent_executor/">Build an Agent with AgentExecutor (Legacy)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/graph_constructing/">How to construct knowledge graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/prompts_partial/">How to partially format prompt templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/query_multiple_queries/">How to handle multiple queries when doing query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_builtin/">How to use built-in tools and toolkits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/passthrough/">How to pass through arguments from one step to the next</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/prompts_composition/">How to compose prompts together</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/query_multiple_retrievers/">How to handle multiple retrievers when doing query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/assign/">How to add values to a chain's state</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/query_constructing_filters/">How to construct filters for query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/configure/">How to configure runtime chain internals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/query_high_cardinality/">How deal with high cardinality categoricals when doing query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_custom/">Custom Document Loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/MultiQueryRetriever/">How to use the MultiQueryRetriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/add_scores_retriever/">How to add scores to retriever results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/caching_embeddings/">Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/callbacks_async/">How to use callbacks in async environments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/callbacks_attach/">How to attach callbacks to a runnable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/callbacks_constructor/">How to propagate callbacks  constructor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/callbacks_custom_events/">How to dispatch custom callback events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/callbacks_runtime/">How to pass callbacks in at runtime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/character_text_splitter/">How to split by character</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chat_model_caching/">How to cache chat model responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chat_model_rate_limiting/">How to handle rate limits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chat_models_universal_init/">How to init any model in one line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chat_token_usage_tracking/">How to track token usage in ChatModels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/chatbots_tools/">How to add tools to chatbots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/code_splitter/">How to split code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/contextual_compression/">How to do retrieval with contextual compression</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/convert_runnable_to_tool/">How to convert Runnables to Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/custom_callbacks/">How to create custom callback handlers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/custom_chat_model/">How to create a custom chat model class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/custom_embeddings/">Custom Embeddings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/custom_llm/">How to create a custom LLM class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/custom_retriever/">Custom Retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/custom_tools/">How to create tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/debugging/">How to debug your LLM apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_csv/">How to load CSVs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_directory/">How to load documents from a directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_html/">How to load HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_json/">How to load JSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_markdown/">How to load Markdown</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_office_file/">How to load Microsoft Office files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_pdf/">How to load PDFs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/document_loader_web/">How to load web pages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/dynamic_chain/">How to create a dynamic (self-constructing) chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/embed_text/">Text embedding models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/ensemble_retriever/">How to combine results from multiple retrievers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/example_selectors_langsmith/">How to select examples from a LangSmith dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/example_selectors_length_based/">How to select examples by length</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/example_selectors_mmr/">How to select examples by maximal marginal relevance (MMR)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/example_selectors_ngram/">How to select examples by n-gram overlap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/example_selectors_similarity/">How to select examples by similarity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/extraction_examples/">How to use reference examples when doing extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/extraction_long_text/">How to handle long text when doing extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/extraction_parse/">How to use prompting alone (no tool calling) to do extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/fallbacks/">How to add fallbacks to a runnable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/filter_messages/">How to filter messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/hybrid/">Hybrid Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/indexing/">How to use the LangChain indexing API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/inspect/">How to inspect runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/lcel_cheatsheet/">LangChain Expression Language Cheatsheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/llm_caching/">How to cache LLM responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/llm_token_usage_tracking/">How to track token usage for LLMs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/local_llms/">Run models locally</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/logprobs/">How to get log probabilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/long_context_reorder/">How to reorder retrieved results to mitigate the "lost in the middle" effect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/markdown_header_metadata_splitter/">How to split Markdown by Headers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/merge_message_runs/">How to merge consecutive messages of the same type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/message_history/">How to add message history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/migrate_agent/">How to migrate from legacy LangChain agents to LangGraph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/multi_vector/">How to retrieve using multiple vectors per document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/multimodal_inputs/">How to pass multimodal data directly to models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/multimodal_prompts/">How to use multimodal prompts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_custom/">How to create a custom Output Parser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_fixing/">How to use the output-fixing parser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_json/">How to parse JSON output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_retry/">How to retry when a parsing error occurs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_string/">How to parse text from message objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_xml/">How to parse XML output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/output_parser_yaml/">How to parse YAML output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/parent_document_retriever/">How to use the Parent Document Retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/pydantic_compatibility/">How to use LangChain with different Pydantic versions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/qa_chat_history_how_to/">How to add chat history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/qa_citations/">How to get a RAG application to add citations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/qa_per_user/">How to do per-user retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/qa_sources/">How to get your RAG application to return sources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/qa_streaming/">How to stream results from your RAG application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/recursive_json_splitter/">How to split JSON data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/recursive_text_splitter/">How to recursively split text by characters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/response_metadata/">Response metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/runnable_runtime_secrets/">How to pass runtime secrets to runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/self_query/">How to do "self-querying" retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/semantic-chunker/">How to split text based on semantic similarity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/sequence/">How to chain runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/serialization/">How to save and load LangChain objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/split_by_token/">How to split text by tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/split_html/">How to split HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/sql_csv/">How to do question answering over CSVs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/sql_large_db/">How to deal with large databases when doing SQL question-answering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/sql_prompting/">How to better prompt when doing SQL question-answering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/sql_query_checking/">How to do query validation as part of SQL question-answering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/streaming/">How to stream runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/streaming_llm/">How to stream responses from an LLM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/time_weighted_vectorstore/">How to use a time-weighted vector store retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_artifacts/">How to return artifacts from a tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_calling/">How to use chat models to call tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_calling_parallel/">How to disable parallel tool calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_choice/">How to force models to call a tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_configure/">How to access the RunnableConfig from a tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_results_pass_to_model/">How to pass tool outputs to chat models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_runtime/">How to pass run time values to tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_stream_events/">How to stream events from a tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tool_streaming/">How to stream tool calls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_as_openai_functions/">How to convert tools to OpenAI Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_error/">How to handle tool errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_few_shot/">How to use few-shot prompting with tool calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_human/">How to add a human-in-the-loop for tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/tools_model_specific/">How to bind model-specific tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/trim_messages/">How to trim messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/vectorstores/">How to create and query vector stores</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="https://python.langchain.com/docs/concepts/">Conceptual guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/agents/">Agents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/architecture/">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/async/">Async programming with langchain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/callbacks/">Callbacks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/chat_history/">Chat history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/chat_models/">Chat models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/document_loaders/">Document loaders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/embedding_models/">Embedding models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/evaluation/">Evaluation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/example_selectors/">Example selectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/few_shot_prompting/">Few-shot prompting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/">Conceptual guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/key_value_stores/">Key-value stores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/lcel/">LangChain Expression Language (LCEL)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/messages/">Messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/multimodality/">Multimodality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/output_parsers/">Output parsers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/prompt_templates/">Prompt Templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/rag/">Retrieval augmented generation (RAG)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/retrieval/">Retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/retrievers/">Retrievers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/runnables/">Runnable interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/streaming/">Streaming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/structured_outputs/">Structured outputs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/testing/">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/text_llms/">String-in, string-out llms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/text_splitters/">Text splitters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/tokens/">Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/tool_calling/">Tool calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/tools/">Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/tracing/">Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/vectorstores/">Vector stores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/concepts/why_langchain/">Why LangChain?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Ecosystem</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">🦜🛠️ LangSmith<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">🦜🕸️ LangGraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Versions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/v0_3/">v0.3</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="#" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">v0.2</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/how_to/pydantic_compatibility/">Pydantic compatibility</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/">Migrating from v0.0 chains</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/">How to migrate from v0.0 chains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/constitutional_chain/">Migrating from ConstitutionalChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/conversation_chain/">Migrating from ConversationalChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/conversation_retrieval_chain/">Migrating from ConversationalRetrievalChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/llm_chain/">Migrating from LLMChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/llm_math_chain/">Migrating from LLMMathChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/llm_router_chain/">Migrating from LLMRouterChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/map_reduce_chain/">Migrating from MapReduceDocumentsChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/map_rerank_docs_chain/">Migrating from MapRerankDocumentsChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/multi_prompt_chain/">Migrating from MultiPromptChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/refine_docs_chain/">Migrating from RefineDocumentsChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/retrieval_qa/">Migrating from RetrievalQA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_chains/stuff_docs_chain/">Migrating from StuffDocumentsChain</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_memory/">Upgrading to LangGraph memory</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_memory/">How to migrate to LangGraph memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_memory/chat_history/">How to use BaseChatMessageHistory with LangGraph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_memory/conversation_buffer_memory/">Migrating off ConversationBufferMemory or ConversationStringBufferMemory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_memory/conversation_buffer_window_memory/">Migrating off ConversationBufferWindowMemory or ConversationTokenBufferMemory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_memory/conversation_summary_memory/">Migrating off ConversationSummaryMemory or ConversationSummaryBufferMemory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/migrating_memory/long_term_memory_agent/">A Long-Term Memory Agent</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="https://python.langchain.com/docs/versions/release_policy/">Release policy</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="https://python.langchain.com/docs/security/">Security Policy</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="https://python.langchain.com/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="https://python.langchain.com/docs/tutorials/"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Build an Agent</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div style="display:flex;flex-direction:column;align-items:flex-end;float:right;margin-left:12px"><a target="_blank" href="https://colab.research.google.com/github/langchain-ai/langchain/blob/master/docs/docs/tutorials/agents.ipynb"><img src="agents_files/colab-badge.svg" alt="Open In Colab"></a><a href="https://github.com/langchain-ai/langchain/blob/master/docs/docs/tutorials/agents.ipynb" target="_blank"><img src="agents_files/Open%20on%20GitHub-grey.svg" alt="Open on GitHub"></a></div><div class="theme-doc-markdown markdown"><header><h1>Build an Agent</h1></header>
<p>By themselves, language models can't take actions - they just output text.
A big use case for LangChain is creating <strong>agents</strong>.
<a href="https://python.langchain.com/docs/concepts/agents/">Agents</a> are systems that use <a href="https://python.langchain.com/docs/concepts/chat_models/">LLMs</a>
 as reasoning engines to determine which actions to take and the inputs 
necessary to perform the action.
After executing actions, the results can be fed back into the LLM to 
determine whether more actions are needed, or whether it is okay to 
finish. This is often achieved via <a href="https://python.langchain.com/docs/concepts/tool_calling/">tool-calling</a>.</p>
<p>In this tutorial we will build an agent that can interact with a 
search engine. You will be able to ask this agent questions, watch it 
call the search tool, and have conversations with it.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="end-to-end-agent">End-to-end agent<a href="#end-to-end-agent" class="hash-link" aria-label="Direct link to End-to-end agent" title="Direct link to End-to-end agent">​</a></h2>
<p>The code snippet below represents a fully functional agent that uses 
an LLM to decide which tools to use. It is equipped with a generic 
search tool. It has conversational memory - meaning that it can be used 
as a multi-turn chatbot.</p>
<p>In the rest of the guide, we will walk through the individual 
components and what each part does - but if you want to just grab some 
code and get started, feel free to use this!</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token comment" style="color: rgb(0, 128, 0);"># Import relevant functionality</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langchain_anthropic </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> ChatAnthropic</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langchain_community</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">tavily_search </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> TavilySearchResults</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">messages </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> HumanMessage</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langgraph</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">checkpoint</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">memory </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> MemorySaver</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langgraph</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">prebuilt </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> create_react_agent</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token comment" style="color: rgb(0, 128, 0);"># Create the agent</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">memory </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> MemorySaver</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">model </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> ChatAnthropic</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">model_name</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"claude-3-sonnet-20240229"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">search </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> TavilySearchResults</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">max_results</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token number" style="color: rgb(9, 134, 88);">2</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">tools </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">search</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">agent_executor </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> create_react_agent</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">model</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> checkpointer</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain">memory</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><b style="padding-left:0.65rem;margin-bottom:0.45rem;margin-right:0.5rem">API Reference:</b><span><a href="https://python.langchain.com/api_reference/anthropic/chat_models/langchain_anthropic.chat_models.ChatAnthropic.html">ChatAnthropic</a> | </span><span><a href="https://python.langchain.com/api_reference/community/tools/langchain_community.tools.tavily_search.tool.TavilySearchResults.html">TavilySearchResults</a> | </span><span><a href="https://python.langchain.com/api_reference/core/messages/langchain_core.messages.human.HumanMessage.html">HumanMessage</a> | </span><span><a href="https://langchain-ai.github.io/langgraph/reference/checkpoints/#langgraph.checkpoint.memory.MemorySaver">MemorySaver</a> | </span><span><a href="https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent">create_react_agent</a></span></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token comment" style="color: rgb(0, 128, 0);"># Use the agent</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">config </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"configurable"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"thread_id"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(163, 21, 21);">"abc123"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">for</span><span class="token plain"> step </span><span class="token keyword" style="color: rgb(0, 0, 255);">in</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"hi im bob! and i live in sf"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    config</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    stream_mode</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"values"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    step</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token number" style="color: rgb(9, 134, 88);">1</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">pretty_print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">================================[1m Human Message [0m=================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">hi im bob! and i live in sf</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">==================================[1m Ai Message [0m==================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">Hello
 Bob! Since you didn't ask a specific question, I don't need to use any 
tools right now. I'm an AI assistant created by Anthropic to be helpful,
 honest, and harmless. Feel free to ask me anything and I'll do my best 
to provide a useful response or look up information using my 
capabilities.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">for</span><span class="token plain"> step </span><span class="token keyword" style="color: rgb(0, 0, 255);">in</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"whats the weather where I live?"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    config</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    stream_mode</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"values"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    step</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token number" style="color: rgb(9, 134, 88);">1</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">pretty_print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">================================[1m Human Message [0m=================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">whats the weather where I live?</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">==================================[1m Ai Message [0m==================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">[{'text':
 'To get the current weather for your location in San Francisco, I can 
use the tavily_search_results_json tool:', 'type': 'text'}, {'id': 
'toolu_01AKa2MErG1CU3zRiGsvpBud', 'input': {'query': 'san francisco 
weather'}, 'name': 'tavily_search_results_json', 'type': 'tool_use'}]</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">Tool Calls:</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">  tavily_search_results_json (toolu_01AKa2MErG1CU3zRiGsvpBud)</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"> Call ID: toolu_01AKa2MErG1CU3zRiGsvpBud</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">  Args:</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    query: san francisco weather</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">=================================[1m Tool Message [0m=================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">Name: tavily_search_results_json</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">[{"url":
 "https://www.weatherapi.com/", "content": "{'location': {'name': 'San 
Francisco', 'region': 'California', 'country': 'United States of 
America', 'lat': 37.775, 'lon': -122.4183, 'tz_id': 
'America/Los_Angeles', 'localtime_epoch': 1739994486, 'localtime': 
'2025-02-19 11:48'}, 'current': {'last_updated_epoch': 1739994300, 
'last_updated': '2025-02-19 11:45', 'temp_c': 13.3, 'temp_f': 55.9, 
'is_day': 1, 'condition': {'text': 'Light rain', 'icon': 
'//cdn.weatherapi.com/weather/64x64/day/296.png', 'code': 1183}, 
'wind_mph': 5.8, 'wind_kph': 9.4, 'wind_degree': 195, 'wind_dir': 'SSW',
 'pressure_mb': 1023.0, 'pressure_in': 30.2, 'precip_mm': 0.0, 
'precip_in': 0.0, 'humidity': 87, 'cloud': 100, 'feelslike_c': 12.7, 
'feelslike_f': 54.8, 'windchill_c': 9.1, 'windchill_f': 48.4, 
'heatindex_c': 10.2, 'heatindex_f': 50.3, 'dewpoint_c': 9.8, 
'dewpoint_f': 49.7, 'vis_km': 4.0, 'vis_miles': 2.0, 'uv': 1.4, 
'gust_mph': 8.9, 'gust_kph': 14.4}}"}, {"url": 
"https://world-weather.info/forecast/usa/san_francisco/february-2025/", 
"content": "Weather in San Francisco in February 2025 (California) - 
Detailed Weather Forecast for a Month Weather World Weather in San 
Francisco Weather in San Francisco in February 2025 San Francisco 
Weather Forecast for February 2025, is based on previous years' 
statistical data. +59°+50° +59°+52° +59°+50° +61°+52° +59°+50° +61°+50° 
+61°+52° +63°+52° +61°+52° +61°+50° +61°+50° +61°+50° +59°+50° +59°+50° 
+61°+50° +61°+52° +59°+50° +59°+48° +57°+48° +59°+50° +59°+48° +59°+50° 
+57°+46° +61°+50° +61°+50° +59°+50° +59°+48° +59°+50° Extended weather 
forecast in San Francisco HourlyWeek10-Day14-Day30-DayYear Weather in 
large and nearby cities Weather in Washington, D.C.+41° Sacramento+55° 
Pleasanton+55° Redwood City+55° San Leandro+55° San Mateo+54° San 
Rafael+52° San Ramon+52° South San Francisco+54° Vallejo+50° Palo 
Alto+55° Pacifica+55° Berkeley+54° Castro Valley+55° Concord+52° Daly 
City+54° Noverd+52° Sign Hill+54° world's temperature today day day 
Temperature units"}]</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">==================================[1m Ai Message [0m==================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">The
 search results provide the current weather conditions and forecast for 
San Francisco. According to the data from WeatherAPI, the current 
temperature in San Francisco is around 55°F (13°C) with light rain and 
winds around 6 mph. The extended forecast shows temperatures ranging 
from the upper 40s to low 60s Fahrenheit over the next few weeks.</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">So
 in summary, it's a cool, rainy day currently in San Francisco where you
 live, Bob. Let me know if you need any other details about the weather 
there!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jupyter-notebook">Jupyter Notebook<a href="#jupyter-notebook" class="hash-link" aria-label="Direct link to Jupyter Notebook" title="Direct link to Jupyter Notebook">​</a></h3>
<p>This guide (and most of the other guides in the documentation) uses <a href="https://jupyter.org/" target="_blank" rel="noopener noreferrer">Jupyter notebooks</a>
 and assumes the reader is as well. Jupyter notebooks are perfect 
interactive environments for learning how to work with LLM systems 
because oftentimes things can go wrong (unexpected output, API down, 
etc), and observing these cases is a great way to better understand 
building with LLMs.</p>
<p>This and other tutorials are perhaps most conveniently run in a Jupyter notebook. See <a href="https://jupyter.org/install" target="_blank" rel="noopener noreferrer">here</a> for instructions on how to install.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h3>
<p>To install LangChain run:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token operator" style="color: rgb(0, 0, 0);">%</span><span class="token plain">pip install </span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token plain">U langchain</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token plain">community langgraph langchain</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token plain">anthropic tavily</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token plain">python langgraph</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token plain">checkpoint</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token plain">sqlite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more details, see our <a href="https://python.langchain.com/docs/how_to/installation/">Installation guide</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langsmith">LangSmith<a href="#langsmith" class="hash-link" aria-label="Direct link to LangSmith" title="Direct link to LangSmith">​</a></h3>
<p>Many of the applications you build with LangChain will contain 
multiple steps with multiple invocations of LLM calls.
As these applications get more and more complex, it becomes crucial to 
be able to inspect what exactly is going on inside your chain or agent.
The best way to do this is with <a href="https://smith.langchain.com/" target="_blank" rel="noopener noreferrer">LangSmith</a>.</p>
<p>After you sign up at the link above, make sure to set your environment variables to start logging traces:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">export LANGSMITH_TRACING="true"</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">export LANGSMITH_API_KEY="..."</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or, if in a notebook, you can set them with:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> getpass</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">os</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">environ</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"LANGSMITH_TRACING"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> </span><span class="token string" style="color: rgb(163, 21, 21);">"true"</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">os</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">environ</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"LANGSMITH_API_KEY"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> getpass</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">getpass</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tavily">Tavily<a href="#tavily" class="hash-link" aria-label="Direct link to Tavily" title="Direct link to Tavily">​</a></h3>
<p>We will be using <a href="https://python.langchain.com/docs/integrations/tools/tavily_search/">Tavily</a> (a search engine) as a tool.
In order to use it, you will need to get and set an API key:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">export TAVILY_API_KEY="..."</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or, if in a notebook, you can set it with:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> getpass</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">os</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">environ</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"TAVILY_API_KEY"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> getpass</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">getpass</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="define-tools">Define tools<a href="#define-tools" class="hash-link" aria-label="Direct link to Define tools" title="Direct link to Define tools">​</a></h2>
<p>We first need to create the tools we want to use. Our main tool of choice will be <a href="https://python.langchain.com/docs/integrations/tools/tavily_search/">Tavily</a> - a search engine. We have a built-in tool in LangChain to easily use Tavily search engine as tool.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langchain_community</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">tavily_search </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> TavilySearchResults</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">search </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> TavilySearchResults</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">max_results</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token number" style="color: rgb(9, 134, 88);">2</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">search_results </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> search</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string" style="color: rgb(163, 21, 21);">"what is the weather in SF"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">search_results</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token comment" style="color: rgb(0, 128, 0);"># If we want, we can create other tools.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token comment" style="color: rgb(0, 128, 0);"># Once we have all the tools we want, we can put them in a list that we will reference later.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">tools </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">search</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><b style="padding-left:0.65rem;margin-bottom:0.45rem;margin-right:0.5rem">API Reference:</b><span><a href="https://python.langchain.com/api_reference/community/tools/langchain_community.tools.tavily_search.tool.TavilySearchResults.html">TavilySearchResults</a></span></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">[{'url':
 'https://www.weatherapi.com/', 'content': "{'location': {'name': 'San 
Francisco', 'region': 'California', 'country': 'United States of 
America', 'lat': 37.775, 'lon': -122.4183, 'tz_id': 
'America/Los_Angeles', 'localtime_epoch': 1739993250, 'localtime': 
'2025-02-19 11:27'}, 'current': {'last_updated_epoch': 1739992500, 
'last_updated': '2025-02-19 11:15', 'temp_c': 13.3, 'temp_f': 55.9, 
'is_day': 1, 'condition': {'text': 'Light rain', 'icon': 
'//cdn.weatherapi.com/weather/64x64/day/296.png', 'code': 1183}, 
'wind_mph': 5.8, 'wind_kph': 9.4, 'wind_degree': 195, 'wind_dir': 'SSW',
 'pressure_mb': 1023.0, 'pressure_in': 30.2, 'precip_mm': 0.0, 
'precip_in': 0.0, 'humidity': 87, 'cloud': 100, 'feelslike_c': 12.7, 
'feelslike_f': 54.8, 'windchill_c': 9.1, 'windchill_f': 48.4, 
'heatindex_c': 10.2, 'heatindex_f': 50.3, 'dewpoint_c': 9.8, 
'dewpoint_f': 49.7, 'vis_km': 4.0, 'vis_miles': 2.0, 'uv': 1.4, 
'gust_mph': 8.9, 'gust_kph': 14.4}}"}, {'url': 
'https://weathershogun.com/weather/usa/ca/san-francisco/480/
february/2025-02-19', 'content': 'San Francisco, California Weather: 
Wednesday, February 19, 2025. Cloudy weather, overcast skies with 
clouds. Day 61°. Night 43°.'}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-language-models">Using Language Models<a href="#using-language-models" class="hash-link" aria-label="Direct link to Using Language Models" title="Direct link to Using Language Models">​</a></h2>
<p>Next, let's learn how to use a language model to call tools. 
LangChain supports many different language models that you can use 
interchangably - select the one you want to use below!</p>
<!-- -->
<div><div style="display:flex;align-items:center;margin-bottom:1rem;gap:0.75rem"><span style="font-size:1rem;font-weight:500">Select <a href="https://python.langchain.com/docs/integrations/chat/">chat model</a>:</span><div class="dropdown"><button class="button button--secondary" style="background-color:var(--ifm-background-color);border:1px solid var(--ifm-color-emphasis-300);font-weight:normal;font-size:1rem;padding:0.5rem 1rem;color:var(--ifm-font-color-base)">OpenAI<span style="margin-left:0.4rem;font-size:0.875rem">▾</span></button><div class="dropdown__menu" style="max-height:210px;overflow-y:auto;overflow-x:hidden;margin-bottom:0"><li><a class="dropdown__link dropdown__link--active" href="#">OpenAI</a></li><li><a class="dropdown__link" href="#">Anthropic</a></li><li><a class="dropdown__link" href="#">Azure</a></li><li><a class="dropdown__link" href="#">Google Vertex</a></li><li><a class="dropdown__link" href="#">AWS</a></li><li><a class="dropdown__link" href="#">Groq</a></li><li><a class="dropdown__link" href="#">Cohere</a></li><li><a class="dropdown__link" href="#">NVIDIA</a></li><li><a class="dropdown__link" href="#">Fireworks AI</a></li><li><a class="dropdown__link" href="#">Mistral AI</a></li><li><a class="dropdown__link" href="#">Together AI</a></li><li><a class="dropdown__link" href="#">IBM watsonx</a></li><li><a class="dropdown__link" href="#">Databricks</a></li><li><a class="dropdown__link" href="#">xAI</a></li></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">pip install -qU "langchain[openai]"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> getpass</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">if</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 0, 255);">not</span><span class="token plain"> os</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">environ</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">get</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string" style="color: rgb(163, 21, 21);">"OPENAI_API_KEY"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">  os</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">environ</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"OPENAI_API_KEY"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> getpass</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">getpass</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string" style="color: rgb(163, 21, 21);">"Enter API key for OpenAI: "</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">chat_models </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> init_chat_model</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">model </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> init_chat_model</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string" style="color: rgb(163, 21, 21);">"gpt-4"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> model_provider</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"openai"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>You can call the language model by passing in a list of messages. By default, the response is a <code>content</code> string.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">messages </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> HumanMessage</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> model</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"hi!"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">content</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><b style="padding-left:0.65rem;margin-bottom:0.45rem;margin-right:0.5rem">API Reference:</b><span><a href="https://python.langchain.com/api_reference/core/messages/langchain_core.messages.human.HumanMessage.html">HumanMessage</a></span></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">'Hi there!'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can now see what it is like to enable this model to do tool calling. In order to enable that we use <code>.bind_tools</code> to give the language model knowledge of these tools</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">model_with_tools </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> model</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">bind_tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can now call the model. Let's first call it with a normal message, and see how it responds. We can look at both the <code>content</code> field as well as the <code>tool_calls</code> field.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> model_with_tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"Hi!"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">f"ContentString: </span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string-interpolation interpolation">response</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token string-interpolation interpolation">content</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">f"ToolCalls: </span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string-interpolation interpolation">response</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token string-interpolation interpolation">tool_calls</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">ContentString: Hello!</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">ToolCalls: []</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, let's try calling it with some input that would expect a tool to be called.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> model_with_tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"What's the weather in SF?"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">f"ContentString: </span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string-interpolation interpolation">response</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token string-interpolation interpolation">content</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">f"ToolCalls: </span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string-interpolation interpolation">response</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token string-interpolation interpolation">tool_calls</span><span class="token string-interpolation interpolation punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token string-interpolation string" style="color: rgb(163, 21, 21);">"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">ContentString: </span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">ToolCalls:
 [{'name': 'tavily_search_results_json', 'args': {'query': 'weather san 
francisco'}, 'id': 'toolu_01VTP7DUvSfgtYxsq9x4EwMp'}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can see that there's now no text content, but there is a tool call! It wants us to call the Tavily Search tool.</p>
<p>This isn't calling that tool yet - it's just telling us to. In order to actually call it, we'll want to create our agent.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-the-agent">Create the agent<a href="#create-the-agent" class="hash-link" aria-label="Direct link to Create the agent" title="Direct link to Create the agent">​</a></h2>
<p>Now that we have defined the tools and the LLM, we can create the agent. We will be using <a href="https://python.langchain.com/docs/concepts/architecture/#langgraph">LangGraph</a>
 to construct the agent.
Currently, we are using a high level interface to construct the agent, 
but the nice thing about LangGraph is that this high-level interface is 
backed by a low-level, highly controllable API in case you want to 
modify the agent logic.</p>
<p>Now, we can initialize the agent with the LLM and the tools.</p>
<p>Note that we are passing in the <code>model</code>, not <code>model_with_tools</code>. That is because <code>create_react_agent</code> will call <code>.bind_tools</code> for us under the hood.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langgraph</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">prebuilt </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> create_react_agent</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">agent_executor </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> create_react_agent</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">model</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><b style="padding-left:0.65rem;margin-bottom:0.45rem;margin-right:0.5rem">API Reference:</b><span><a href="https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent">create_react_agent</a></span></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-agent">Run the agent<a href="#run-the-agent" class="hash-link" aria-label="Direct link to Run the agent" title="Direct link to Run the agent">​</a></h2>
<p>We can now run the agent with a few queries! Note that for now, these are all <strong>stateless</strong> queries (it won't remember previous interactions). Note that the agent will return the <strong>final</strong> state at the end of the interaction (which includes any inputs, we will see later on how to get only the outputs).</p>
<p>First up, let's see how it responds when there's no need to call a tool:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"hi!"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">[HumanMessage(content='hi!', id='a820fcc5-9b87-457a-9af0-f21768143ee3'),</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">
 AIMessage(content='Hello!', response_metadata={'id': 
'msg_01VbC493X1VEDyusgttiEr1z', 'model': 'claude-3-sonnet-20240229', 
'stop_reason': 'end_turn', 'stop_sequence': None, 'usage': 
{'input_tokens': 264, 'output_tokens': 5}}, 
id='run-0e0ddae8-a85b-4bd6-947c-c36c857a4698-0', 
usage_metadata={'input_tokens': 264, 'output_tokens': 5, 'total_tokens':
 269})]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In order to see exactly what is happening under the hood (and to make sure it's not calling a tool) we can take a look at the <a href="https://smith.langchain.com/public/28311faa-e135-4d6a-ab6b-caecf6482aaa/r" target="_blank" rel="noopener noreferrer">LangSmith trace</a></p>
<p>Let's now try it out on an example where it should be invoking the tool</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"whats the weather in sf?"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">response</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">[HumanMessage(content='whats the weather in sf?', id='1d6c96bb-4ddb-415c-a579-a07d5264de0d'),</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">
 AIMessage(content=[{'id': 'toolu_01Y5EK4bw2LqsQXeaUv8iueF', 'input': 
{'query': 'weather in san francisco'}, 'name': 
'tavily_search_results_json', 'type': 'tool_use'}], 
response_metadata={'id': 'msg_0132wQUcEduJ8UKVVVqwJzM4', 'model': 
'claude-3-sonnet-20240229', 'stop_reason': 'tool_use', 'stop_sequence': 
None, 'usage': {'input_tokens': 269, 'output_tokens': 61}}, 
id='run-26d5e5e8-d4fd-46d2-a197-87b95b10e823-0', tool_calls=[{'name': 
'tavily_search_results_json', 'args': {'query': 'weather in san 
francisco'}, 'id': 'toolu_01Y5EK4bw2LqsQXeaUv8iueF'}], 
usage_metadata={'input_tokens': 269, 'output_tokens': 61, 
'total_tokens': 330}),</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">
 ToolMessage(content='[{"url": "https://www.weatherapi.com/", "content":
 "{\'location\': {\'name\': \'San Francisco\', \'region\': 
\'California\', \'country\': \'United States of America\', \'lat\': 
37.78, \'lon\': -122.42, \'tz_id\': \'America/Los_Angeles\', 
\'localtime_epoch\': 1717238703, \'localtime\': \'2024-06-01 3:45\'}, 
\'current\': {\'last_updated_epoch\': 1717237800, \'last_updated\': 
\'2024-06-01 03:30\', \'temp_c\': 12.0, \'temp_f\': 53.6, \'is_day\': 0,
 \'condition\': {\'text\': \'Mist\', \'icon\': 
\'//cdn.weatherapi.com/weather/64x64/night/143.png\', \'code\': 1030}, 
\'wind_mph\': 5.6, \'wind_kph\': 9.0, \'wind_degree\': 310, 
\'wind_dir\': \'NW\', \'pressure_mb\': 1013.0, \'pressure_in\': 29.92, 
\'precip_mm\': 0.0, \'precip_in\': 0.0, \'humidity\': 88, \'cloud\': 
100, \'feelslike_c\': 10.5, \'feelslike_f\': 50.8, \'windchill_c\': 9.3,
 \'windchill_f\': 48.7, \'heatindex_c\': 11.1, \'heatindex_f\': 51.9, 
\'dewpoint_c\': 8.8, \'dewpoint_f\': 47.8, \'vis_km\': 6.4, 
\'vis_miles\': 3.0, \'uv\': 1.0, \'gust_mph\': 12.5, \'gust_kph\': 
20.1}}"}, {"url": 
"https://www.timeanddate.com/weather/usa/san-francisco/hourly", 
"content": "Sun &amp; Moon. Weather Today Weather Hourly 14 Day Forecast
 Yesterday/Past Weather Climate (Averages) Currently: 59 \\u00b0F. 
Passing clouds. (Weather station: San Francisco International Airport, 
USA). See more current weather."}]', name='tavily_search_results_json', 
id='37aa1fd9-b232-4a02-bd22-bc5b9b44a22c', 
tool_call_id='toolu_01Y5EK4bw2LqsQXeaUv8iueF'),</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">
 AIMessage(content='Based on the search results, here is a summary of 
the current weather in San Francisco:\n\nThe weather in San Francisco is
 currently misty with a temperature of around 53°F (12°C). There is 
complete cloud cover and moderate winds from the northwest around 5-9 
mph (9-14 km/h). Humidity is high at 88%. Visibility is around 3 miles 
(6.4 km). \n\nThe results provide an hourly forecast as well as current 
conditions from a couple different weather sources. Let me know if you 
need any additional details about the San Francisco weather!', 
response_metadata={'id': 'msg_01BRX9mrT19nBDdHYtR7wJ92', 'model': 
'claude-3-sonnet-20240229', 'stop_reason': 'end_turn', 'stop_sequence': 
None, 'usage': {'input_tokens': 920, 'output_tokens': 132}}, 
id='run-d0325583-3ddc-4432-b2b2-d023eb97660f-0', 
usage_metadata={'input_tokens': 920, 'output_tokens': 132, 
'total_tokens': 1052})]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can check out the <a href="https://smith.langchain.com/public/f520839d-cd4d-4495-8764-e32b548e235d/r" target="_blank" rel="noopener noreferrer">LangSmith trace</a> to make sure it's calling the search tool effectively.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="streaming-messages">Streaming Messages<a href="#streaming-messages" class="hash-link" aria-label="Direct link to Streaming Messages" title="Direct link to Streaming Messages">​</a></h2>
<p>We've seen how the agent can be called with <code>.invoke</code> to 
get  a final response. If the agent executes multiple steps, this may 
take a while. To show intermediate progress, we can stream back messages
 as they occur.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">for</span><span class="token plain"> step </span><span class="token keyword" style="color: rgb(0, 0, 255);">in</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"whats the weather in sf?"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    stream_mode</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"values"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    step</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token operator" style="color: rgb(0, 0, 0);">-</span><span class="token number" style="color: rgb(9, 134, 88);">1</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">pretty_print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">================================[1m Human Message [0m=================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">whats the weather in sf?</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">==================================[1m Ai Message [0m==================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">[{'text':
 'Okay, let me look up the current weather for San Francisco using a 
search engine:', 'type': 'text'}, {'id': 
'toolu_01H1brh5EZpZqtqHBxkosPtN', 'input': {'query': 'san francisco 
weather'}, 'name': 'tavily_search_results_json', 'type': 'tool_use'}]</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">Tool Calls:</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">  tavily_search_results_json (toolu_01H1brh5EZpZqtqHBxkosPtN)</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"> Call ID: toolu_01H1brh5EZpZqtqHBxkosPtN</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">  Args:</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    query: san francisco weather</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">=================================[1m Tool Message [0m=================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">Name: tavily_search_results_json</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">[{"url":
 "https://www.weatherapi.com/", "content": "{'location': {'name': 'San 
Francisco', 'region': 'California', 'country': 'United States of 
America', 'lat': 37.775, 'lon': -122.4183, 'tz_id': 
'America/Los_Angeles', 'localtime_epoch': 1739994486, 'localtime': 
'2025-02-19 11:48'}, 'current': {'last_updated_epoch': 1739994300, 
'last_updated': '2025-02-19 11:45', 'temp_c': 13.3, 'temp_f': 55.9, 
'is_day': 1, 'condition': {'text': 'Light rain', 'icon': 
'//cdn.weatherapi.com/weather/64x64/day/296.png', 'code': 1183}, 
'wind_mph': 5.8, 'wind_kph': 9.4, 'wind_degree': 195, 'wind_dir': 'SSW',
 'pressure_mb': 1023.0, 'pressure_in': 30.2, 'precip_mm': 0.0, 
'precip_in': 0.0, 'humidity': 87, 'cloud': 100, 'feelslike_c': 12.7, 
'feelslike_f': 54.8, 'windchill_c': 9.1, 'windchill_f': 48.4, 
'heatindex_c': 10.2, 'heatindex_f': 50.3, 'dewpoint_c': 9.8, 
'dewpoint_f': 49.7, 'vis_km': 4.0, 'vis_miles': 2.0, 'uv': 1.4, 
'gust_mph': 8.9, 'gust_kph': 14.4}}"}, {"url": 
"https://world-weather.info/forecast/usa/san_francisco/february-2025/", 
"content": "Weather in San Francisco in February 2025 (California) - 
Detailed Weather Forecast for a Month Weather World Weather in San 
Francisco Weather in San Francisco in February 2025 San Francisco 
Weather Forecast for February 2025, is based on previous years' 
statistical data. +59°+50° +59°+52° +59°+50° +61°+52° +59°+50° +61°+50° 
+61°+52° +63°+52° +61°+52° +61°+50° +61°+50° +61°+50° +59°+50° +59°+50° 
+61°+50° +61°+52° +59°+50° +59°+48° +57°+48° +59°+50° +59°+48° +59°+50° 
+57°+46° +61°+50° +61°+50° +59°+50° +59°+48° +59°+50° Extended weather 
forecast in San Francisco HourlyWeek10-Day14-Day30-DayYear Weather in 
large and nearby cities Weather in Washington, D.C.+41° Sacramento+55° 
Pleasanton+55° Redwood City+55° San Leandro+55° San Mateo+54° San 
Rafael+52° San Ramon+52° South San Francisco+54° Vallejo+50° Palo 
Alto+55° Pacifica+55° Berkeley+54° Castro Valley+55° Concord+52° Daly 
City+54° Noverd+52° Sign Hill+54° world's temperature today day day 
Temperature units"}]</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">==================================[1m Ai Message [0m==================================</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">The search results provide details on the current weather conditions and forecast for San Francisco. Some key details:</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">- It is lightly raining in San Francisco right now, with a temperature around 55°F/13°C. </span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">-
 The forecast for the rest of February 2025 shows daytime highs mostly 
in the upper 50s to low 60s F, with night lows in the upper 40s to low 
50s F. </span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">- Typical weather includes some rain, clouds, cool temperatures and breezy conditions.</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">So
 in summary, as is common for San Francisco in late winter, it is 
currently cool with light rain showers, and similar mild, unsettled 
weather is expected over the next couple weeks. Layers and a light 
jacket would be advisable for being outdoors. Let me know if you need 
any other details!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="streaming-tokens">Streaming tokens<a href="#streaming-tokens" class="hash-link" aria-label="Direct link to Streaming tokens" title="Direct link to Streaming tokens">​</a></h2>
<p>In addition to streaming back messages, it is also useful to stream back tokens.
We can do this by specifying <code>stream_mode="messages"</code>.</p>
<p>::: note</p>
<p>Below we use <code>message.text()</code>, which requires <code>langchain-core&gt;=0.3.37</code>.</p>
<p>:::</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">for</span><span class="token plain"> step</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> metadata </span><span class="token keyword" style="color: rgb(0, 0, 255);">in</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"whats the weather in sf?"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    stream_mode</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 0, 255);">if</span><span class="token plain"> metadata</span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token string" style="color: rgb(163, 21, 21);">"langgraph_node"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 0, 0);">==</span><span class="token plain"> </span><span class="token string" style="color: rgb(163, 21, 21);">"agent"</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 0, 255);">and</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">text </span><span class="token operator" style="color: rgb(0, 0, 0);">:=</span><span class="token plain"> step</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">text</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">        </span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">text</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> end</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"|"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">Base|d on the weather| search| results, here| are the key details| about the weather in| San Francisco:|</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">-
 The current temperature| in| San Francisco is aroun|d 55|-|56|°F 
(13|°|C).| Light| rain is occurring with| |100|% clou|d cover. |</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">-| Winds| are aroun|d 5-9| mph from| the south|-southwest.|</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">-
 The| forecast| for| the rest| of February| 2025 |shows da|ytime highs 
mostly| in the upper| 50s to| low| 60s°|F,| with overnight lows| in| the
 upper| 40s to| low| 50s°|F.|</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">-|
 Overall|, typical| cool| an|d show|ery late| winter weather is| 
expected in San Francisco| for the remainder| of February,| with a| mix|
 of rain| and dry| periods|.| Temperatures will be| season|able| for| 
this| time of year.|</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">So|
 in summary, San| Francisco is| experiencing light| rain an|d cool| 
temperatures currently, but| the late| winter forecast| shows typical 
mil|d and show|ery conditions| pers|isting through the en|d of the| 
month.| Let| me know if you| need any other| details about| the weather 
in the| city!|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-in-memory">Adding in memory<a href="#adding-in-memory" class="hash-link" aria-label="Direct link to Adding in memory" title="Direct link to Adding in memory">​</a></h2>
<p>As mentioned earlier, this agent is stateless. This means it does not
 remember previous interactions. To give it memory we need to pass in a 
checkpointer. When passing in a checkpointer, we also have to pass in a <code>thread_id</code> when invoking the agent (so it knows which thread/conversation to resume from).</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">from</span><span class="token plain"> langgraph</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">checkpoint</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">memory </span><span class="token keyword" style="color: rgb(0, 0, 255);">import</span><span class="token plain"> MemorySaver</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">memory </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> MemorySaver</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><b style="padding-left:0.65rem;margin-bottom:0.45rem;margin-right:0.5rem">API Reference:</b><span><a href="https://langchain-ai.github.io/langgraph/reference/checkpoints/#langgraph.checkpoint.memory.MemorySaver">MemorySaver</a></span></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">agent_executor </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> create_react_agent</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">model</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> tools</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> checkpointer</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain">memory</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">config </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"configurable"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"thread_id"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(163, 21, 21);">"abc123"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">for</span><span class="token plain"> chunk </span><span class="token keyword" style="color: rgb(0, 0, 255);">in</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"hi im bob!"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> config</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">chunk</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string" style="color: rgb(163, 21, 21);">"----"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">{'agent':
 {'messages': [AIMessage(content="Hello Bob! It's nice to meet you 
again.", response_metadata={'id': 'msg_013C1z2ZySagEFwmU1EsysR2', 
'model': 'claude-3-sonnet-20240229', 'stop_reason': 'end_turn', 
'stop_sequence': None, 'usage': {'input_tokens': 1162, 'output_tokens': 
14}}, id='run-f878acfd-d195-44e8-9166-e2796317e3f8-0', 
usage_metadata={'input_tokens': 1162, 'output_tokens': 14, 
'total_tokens': 1176})]}}</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token keyword" style="color: rgb(0, 0, 255);">for</span><span class="token plain"> chunk </span><span class="token keyword" style="color: rgb(0, 0, 255);">in</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"whats my name?"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> config</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">chunk</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string" style="color: rgb(163, 21, 21);">"----"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">{'agent':
 {'messages': [AIMessage(content='You mentioned your name is Bob when 
you introduced yourself earlier. So your name is Bob.', 
response_metadata={'id': 'msg_01WNwnRNGwGDRw6vRdivt6i1', 'model': 
'claude-3-sonnet-20240229', 'stop_reason': 'end_turn', 'stop_sequence': 
None, 'usage': {'input_tokens': 1184, 'output_tokens': 21}}, 
id='run-f5c0b957-8878-405a-9d4b-a7cd38efe81f-0', 
usage_metadata={'input_tokens': 1184, 'output_tokens': 21, 
'total_tokens': 1205})]}}</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example <a href="https://smith.langchain.com/public/fa73960b-0f7d-4910-b73d-757a12f33b2b/r" target="_blank" rel="noopener noreferrer">LangSmith trace</a></p>
<p>If you want to start a new conversation, all you have to do is change the <code>thread_id</code> used</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">config </span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"configurable"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"thread_id"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(163, 21, 21);">"xyz123"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 0, 255);">for</span><span class="token plain"> chunk </span><span class="token keyword" style="color: rgb(0, 0, 255);">in</span><span class="token plain"> agent_executor</span><span class="token punctuation" style="color: rgb(4, 81, 165);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(4, 81, 165);">{</span><span class="token string" style="color: rgb(163, 21, 21);">"messages"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(4, 81, 165);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(0, 0, 0);">=</span><span class="token string" style="color: rgb(163, 21, 21);">"whats my name?"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">]</span><span class="token punctuation" style="color: rgb(4, 81, 165);">}</span><span class="token punctuation" style="color: rgb(4, 81, 165);">,</span><span class="token plain"> config</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token punctuation" style="color: rgb(4, 81, 165);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token plain">chunk</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 0, 255);">print</span><span class="token punctuation" style="color: rgb(4, 81, 165);">(</span><span class="token string" style="color: rgb(163, 21, 21);">"----"</span><span class="token punctuation" style="color: rgb(4, 81, 165);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-output codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #000000; --prism-background-color: #F5F5F5;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-output codeBlock_bY9V thin-scrollbar" style="color: rgb(0, 0, 0); background-color: rgb(245, 245, 245);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">{'agent':
 {'messages': [AIMessage(content="I'm afraid I don't actually know your 
name. As an AI assistant without personal information about you, I don't
 have a specific name associated with our conversation.", 
response_metadata={'id': 'msg_01NoaXNNYZKSoBncPcLkdcbo', 'model': 
'claude-3-sonnet-20240229', 'stop_reason': 'end_turn', 'stop_sequence': 
None, 'usage': {'input_tokens': 267, 'output_tokens': 36}}, 
id='run-c9f7df3d-525a-4d8f-bbcf-a5b4a5d2e4b0-0', 
usage_metadata={'input_tokens': 267, 'output_tokens': 36, 
'total_tokens': 303})]}}</span><br></span><span class="token-line" style="color: rgb(0, 0, 0);"><span class="token plain">----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>That's a wrap! In this quick start we covered how to create a simple agent.
We've then shown how to stream back a response - not only with the intermediate steps, but also tokens!
We've also added in memory so you can have a conversation with them.
Agents are a complex topic with lots to learn!</p>
<p>For more information on Agents, please check out the <a href="https://python.langchain.com/docs/concepts/architecture/#langgraph">LangGraph</a> documentation. This has it's own set of concepts, tutorials, and how-to guides.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/langchain-ai/langchain/edit/master/docs/docs/tutorials/agents.ipynb" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><div style="display:flex;flex-direction:column"><hr><h4>Was this page helpful?</h4><div style="display:flex;gap:5px"><div style="display:flex;align-items:center;padding-top:10px;padding-bottom:10px;padding-left:22px;padding-right:22px;border:1px solid gray;border-radius:6px;gap:10px;cursor:pointer;font-size:16px;font-weight:600" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#166534" style="width:24px;height:24px"><path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"></path></svg></div><div style="display:flex;align-items:center;padding-top:10px;padding-bottom:10px;padding-left:22px;padding-right:22px;border:1px solid gray;border-radius:6px;gap:10px;cursor:pointer;font-size:16px;font-weight:600" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#991b1b" style="width:24px;height:24px"><path stroke-linecap="round" stroke-linejoin="round" d="M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"></path></svg></div></div></div><giscus-widget repo="langchain-ai/langchain" repoid="R_kgDOIPDwlg" category="Docs Discussions" categoryid="DIC_kwDOIPDwls4CjJYb" mapping="pathname" strict="1" reactionsenabled="0" emitmetadata="0" inputposition="bottom" theme="preferred_color_scheme" lang="en" loading="lazy" host="https://giscus.app"></giscus-widget></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#end-to-end-agent" class="table-of-contents__link toc-highlight">End-to-end agent</a></li><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a><ul><li><a href="#jupyter-notebook" class="table-of-contents__link toc-highlight">Jupyter Notebook</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#langsmith" class="table-of-contents__link toc-highlight">LangSmith</a></li><li><a href="#tavily" class="table-of-contents__link toc-highlight">Tavily</a></li></ul></li><li><a href="#define-tools" class="table-of-contents__link toc-highlight">Define tools</a></li><li><a href="#using-language-models" class="table-of-contents__link toc-highlight">Using Language Models</a></li><li><a href="#create-the-agent" class="table-of-contents__link toc-highlight">Create the agent</a></li><li><a href="#run-the-agent" class="table-of-contents__link toc-highlight">Run the agent</a></li><li><a href="#streaming-messages" class="table-of-contents__link toc-highlight">Streaming Messages</a></li><li><a href="#streaming-tokens" class="table-of-contents__link toc-highlight">Streaming tokens</a></li><li><a href="#adding-in-memory" class="table-of-contents__link toc-highlight table-of-contents__link--active">Adding in memory</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/LangChainAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/langchain-ai" target="_blank" rel="noopener noreferrer" class="footer__link-item">Organization<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/langchain-ai/langchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/langchain-ai/langchainjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">JS/TS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://langchain.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.langchain.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@LangChain" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 LangChain, Inc.</div></div></div></footer></div>

</body></html>